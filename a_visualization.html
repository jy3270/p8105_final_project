<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Visualization</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="descriptive_statistics.html">Descriptive statistics</a>
    </li>
    <li>
      <a href="a_visualization.html">Visualization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="statistical_tests.html">Statistical Test</a>
    </li>
    <li>
      <a href="regression_analysis.html">Regression Analysis</a>
    </li>
    <li>
      <a href="PCA_analysis.html">PCA Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://yixuanjiao.shinyapps.io/world-happiness-shinyapp/">Interactive Data Explore</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Report.html">Project Report</a>
</li>
<li>
  <a href="mailto:&lt;jy3270@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/jy3270/world-happiness-analysis.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Visualization</h1>

</div>


<pre class="r"><code>library(tidyverse)
library(ggplot2)
library(plotly)

theme_set(theme_minimal() + theme(legend.position = &quot;bottom&quot;))

options(
  ggplot2.continuous.colour = &quot;viridis&quot;,
  ggplot2.continuous.fill = &quot;viridis&quot;
)

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d

select &lt;- dplyr::select</code></pre>
<pre class="r"><code>happ_df = read_csv(&quot;Data/happiness.csv&quot;)</code></pre>
<div id="life-ladder-scores-based-on-different-regions"
class="section level3">
<h3>Life Ladder Scores Based on Different Regions</h3>
<div id="overall-mean-life-ladder-score" class="section level4">
<h4>Overall mean life ladder score</h4>
<p>We want to first get a general sense about the differences among life
ladder scores for different regions by plotting the mean life ladder
score for each region throughout the years.</p>
<pre class="r"><code>happ_df %&gt;%
  group_by(regional_indicator) %&gt;%
  summarise(mean_ladder_score = mean(ladder_score)) %&gt;%
  mutate(regional_indicator = fct_reorder(regional_indicator, mean_ladder_score, .desc = TRUE)) %&gt;%
  ggplot(aes(x = regional_indicator, y = mean_ladder_score, fill = regional_indicator)) +
  geom_bar(stat = &quot;identity&quot;, show.legend = FALSE) +
  coord_flip() +
  labs(
    y = &quot;Mean life ladder score&quot;,
    x = &quot;Region&quot;,
    title = &quot;Mean Life Ladder Score for Different Regions&quot;
  )</code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>From the years 2005 to 2021, North America and ANZ region has the
highest mean life ladder score. Western Europe region has the second
highest mean ladder score and is close to North America and ANZ’s.
Sub-Saharan Africa and South Asia have the two lowest mean life ladder
scores in which Sub-Saharan Africa has the lowest mean life ladder
score.</p>
</div>
<div id="across-years-2005-to-2021" class="section level4">
<h4>Across Years 2005 to 2021</h4>
<p>After getting an idea of the differences of mean life ladder score
among different regions, we want to explore the distribution of life
ladder score on each region across the years.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = ladder_score, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Life ladder score&quot;,
    title = &quot;Life Ladder Scores for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-4-1.png" width="1104" /></p>
<p>With the initial idea that the mean life ladder score of the North
America and ANZ region being the highest, we can see that each year the
life ladder score of the North America and ANZ region has similar
distribution around 7. For Sub-Saharan Africa, it also has similar
distribution in life ladder score around 4 across the years. It seems
that the Middle East and North Africa region has many outliers in each
year’s life ladder score.</p>
</div>
<div id="mean-life-ladder-score-for-top-50-countries"
class="section level4">
<h4>Mean life ladder score for top 50 countries</h4>
<p>Now we want to look at the countries that have top 50 mean life
ladder score and which regions they belong to.</p>
<pre class="r"><code>happ_df %&gt;%
  group_by(country_name, regional_indicator) %&gt;%
  summarise(mean = mean(ladder_score)) %&gt;%
  ungroup() %&gt;%
  top_n(50, mean) %&gt;%
  mutate(country_name = fct_reorder(country_name, mean)) %&gt;%
  ggplot(aes(x = country_name, y = mean, color = regional_indicator)) +
  geom_point(stat = &quot;identity&quot;) +
  theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1),
        legend.position = &quot;top&quot;) +
  labs(
    x = &quot;Country&quot;,
    y = &quot;Mean life ladder score&quot;,
    color = &quot;Region&quot;
  )</code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-5-1.png" width="1056" /></p>
<p>Interestingly, there are many countries from Western Europe and they
also have relatively high mean life ladder score across the years.</p>
</div>
</div>
<div id="other-variables-based-on-different-regions"
class="section level3 tabset">
<h3 class="tabset">Other variables Based on Different Regions</h3>
<p>Now we want to look at the other variables other than Life Ladder
Score since we are interested in exploring the possible factors
contributing to happiness.</p>
<div id="logged-gdp-per-capita" class="section level4">
<h4>Logged GDP per capita</h4>
<p>We can see that the distributions in North America and ANZ, and
Western Europe are similar in logged GDP per capita and they are the two
highest among these regions. Expectedly, the distribution of Sub-Saharan
Africa region is the lowest on the GDP scale.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = logged_gdp_per_capita, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Logged GDP per capita&quot;,
    title = &quot;Logged GDP per capita for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-6-1.png" width="1104" /></p>
</div>
<div id="social-support" class="section level4">
<h4>Social support</h4>
<p>Western Europe and North America and ANZ regions have similar
distribution and the overall positions are the two highest on the social
support scale. Surprisingly, the Sub-Saharan Africa region is not the
lowest one on this scale, but has many outliers and larger range.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = social_support, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Social support&quot;,
    title = &quot;Social Support for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-7-1.png" width="1104" /></p>
</div>
<div id="healthy-life-expectancy" class="section level4">
<h4>Healthy life expectancy</h4>
<p>The regions of Western Europe and North America and ANZ again are the
two highest on the scale; Sub-Saharan Africa being the lowest.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = healthy_life_expectancy, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Healthy life expectancy&quot;,
    title = &quot;Healthy Life Expectancy for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-8-1.png" width="1104" /></p>
</div>
<div id="freedom-to-make-life-chocies" class="section level4">
<h4>Freedom to make life chocies</h4>
<p>This time the distribution does not follow the previous trend. It
seems that as time moves on, people in most regions are more satisfied
with their freedom to choose what they do with their lives.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = freedom_to_make_life_choices, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Freedom to make life choices&quot;,
    title = &quot;Freedom for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-9-1.png" width="1104" /></p>
</div>
<div id="generosity" class="section level4">
<h4>Generosity</h4>
<p>For North America and ANZ, Western Europe, and Latin America and
Caribbean regions, we can see that the generosity trend is likely to
decrease across the years. The rest of the regions do not show an
obvious trend in distribution.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = generosity, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Generosity&quot;,
    title = &quot;Generosity for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-10-1.png" width="1104" /></p>
</div>
<div id="perceptions-of-corruption" class="section level4">
<h4>Perceptions of corruption</h4>
<p>Surprisingly, only North America and ANZ region is obviously the
lowest on the scale. The range of each year’s distribution in Western
Europe is large. It seems that the rest of the regions generally think
there is corruption widespread throughout the government/businesses.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = perceptions_of_corruption, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Perceptions of corruption&quot;,
    title = &quot;Perceptions of Corruption for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="a_visualization_files/figure-html/unnamed-chunk-11-1.png" width="1104" /></p>
</div>
</div>
<div id="global-maps" class="section level3 tabset">
<h3 class="tabset">Global Maps</h3>
<p>The global maps show the mean values of each variable for the
countries with the corresponding color density. White regions are
countries without data from that variable.</p>
<pre class="r"><code>iso_code &lt;- 
  read.csv(&quot;https://raw.githubusercontent.com/plotly/datasets/master/2014_world_gdp_with_codes.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  rename(country_name = country) %&gt;%
  select(-gdp_billions) %&gt;%
  add_row(country_name = &quot;Palestinian Territories&quot;, code = &quot;PSE&quot;)

happy &lt;- 
  read_csv(&#39;Data/happiness.csv&#39;) %&gt;%
  filter(year != 2005) %&gt;%
  group_by(country_name) %&gt;%
  summarise(mean_ladder_score = mean(ladder_score),
            mean_gdp = mean(logged_gdp_per_capita),
            mean_social_support = mean(social_support),
            mean_expectancy = mean(healthy_life_expectancy),
            mean_freedom = mean(freedom_to_make_life_choices),
            mean_generosity = mean(generosity),
            mean_corruption = mean(perceptions_of_corruption))

happy_name &lt;- unique(happy$country_name)
name &lt;- unique(iso_code$country_name)
diff_name &lt;- setdiff(happy_name,name)
code_name &lt;- c(&quot;Congo, Republic of the&quot;,&quot;Gambia, The&quot;, &quot;Hong Kong&quot;, &quot;Cote d&#39;Ivoire&quot; ,&quot;Burma&quot;, &quot;Cyprus&quot;, &quot;Macedonia&quot;, &quot;Korea, South&quot;, &quot;Taiwan&quot;)

for (i in 1:length(code_name)) {
  iso_code$country_name[iso_code$country_name == code_name[i]] &lt;- diff_name[i]
}

happy &lt;- left_join(happy,iso_code)

g &lt;- list(
  showframe = FALSE,
  projection = list(type = &#39;Mercator&#39;)
)</code></pre>
<div id="life-ladder-score" class="section level4">
<h4>Life Ladder Score</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_ladder_score, 
  text = happy$country_name, 
  colors = &#39;Blues&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Life Ladder Score&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-25dd0f4c2e08ece7f774" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-25dd0f4c2e08ece7f774">{"x":{"visdat":{"2b383b9d42ba":["function () ","plotlyVisDat"]},"cur_data":"2b383b9d42ba","attrs":{"2b383b9d42ba":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[3.51223076923077,5.02635714285714,5.141,6.2863125,4.56486666666667,7.27078571428571,7.24407142857143,4.95633333333333,5.77725,4.771375,5.5686,6.95092857142857,4.12461538461538,5.7323125,5.23521428571429,3.95561538461538,6.59614285714286,4.62730769230769,4.21578571428571,3.586,4.27864285714286,4.6548125,7.34628571428571,4.0658,6.345125,5.339,6.23375,3.99328571428571,4.6179,7.172,5.64614285714286,6.10207692307692,6.63558333333333,7.6538,5.2366875,5.742,4.46222222222222,5.95875,5.67013333333333,4.36733333333333,7.61464285714286,6.6428,4.4769,4.81375,4.3200625,6.90428571428571,4.8358125,5.52971428571429,6.26533333333333,4.1997,3.92591666666667,5.42766666666667,5.477,5.36385714285714,7.449125,4.37126666666667,5.2354,4.87733333333333,4.6875,7.06886666666667,7.21733333333333,6.2606,4.6755,5.87285714285714,5.97871428571429,5.331,5.82775,4.4156875,6.372,6.39125,5.20575,5.02011111111111,5.46753333333333,4.91678571428571,3.905,4.1051,5.527,5.8526875,7.07025,4.00154545454545,4.01976923076923,5.76376923076923,5.198,4.28328571428571,6.65385714285714,4.39828571428571,5.887,6.68033333333333,5.6230625,5.10228571428571,5.331,5.0733,4.69588888888889,4.36866666666667,4.59942857142857,4.73964285714286,7.46628571428571,7.30806666666667,5.64973333333333,4.30886666666667,4.99535714285714,5.536,4.92828571428571,7.50145454545455,5.22171428571429,4.4454,6.65013333333333,5.56578571428571,5.61066666666667,5.256875,5.97078571428571,5.47621428571429,5.60976923076923,5.518125,3.58775,6.48433333333333,4.4878,5.30471428571429,4.09184615384615,6.49761538461538,6.08446153846154,6.08271428571429,4.86446666666667,5.8644,6.4656,4.30964285714286,4.44575,7.3686,7.55036363636364,6.1375,4.86238461538462,3.6926875,6.0810625,3.6102,4.72008333333333,5.25386666666667,5.066,4.324875,4.7741875,6.8145,6.92293333333333,7.0435,6.2724375,5.991,6.11325,5.36936363636364,3.974125,4.5198,3.8365],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"Blues","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Life Ladder Score","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(247,251,255,1)"],["0.0416666666666666","rgba(239,246,252,1)"],["0.0833333333333334","rgba(230,240,250,1)"],["0.125","rgba(222,235,247,1)"],["0.166666666666667","rgba(214,230,244,1)"],["0.208333333333333","rgba(206,224,242,1)"],["0.25","rgba(198,219,239,1)"],["0.291666666666667","rgba(185,213,234,1)"],["0.333333333333333","rgba(172,208,230,1)"],["0.375","rgba(158,202,225,1)"],["0.416666666666667","rgba(142,193,221,1)"],["0.458333333333333","rgba(125,183,218,1)"],["0.5","rgba(107,174,214,1)"],["0.541666666666667","rgba(94,165,209,1)"],["0.583333333333333","rgba(81,155,203,1)"],["0.625","rgba(66,146,198,1)"],["0.666666666666667","rgba(57,135,192,1)"],["0.708333333333333","rgba(46,124,187,1)"],["0.75","rgba(33,113,181,1)"],["0.791666666666667","rgba(27,102,173,1)"],["0.833333333333333","rgba(19,91,164,1)"],["0.875","rgba(8,81,156,1)"],["0.916666666666667","rgba(9,70,139,1)"],["0.958333333333333","rgba(9,59,123,1)"],["1","rgba(8,48,107,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[3.51223076923077,5.02635714285714,5.141,6.2863125,4.56486666666667,7.27078571428571,7.24407142857143,4.95633333333333,5.77725,4.771375,5.5686,6.95092857142857,4.12461538461538,5.7323125,5.23521428571429,3.95561538461538,6.59614285714286,4.62730769230769,4.21578571428571,3.586,4.27864285714286,4.6548125,7.34628571428571,4.0658,6.345125,5.339,6.23375,3.99328571428571,4.6179,7.172,5.64614285714286,6.10207692307692,6.63558333333333,7.6538,5.2366875,5.742,4.46222222222222,5.95875,5.67013333333333,4.36733333333333,7.61464285714286,6.6428,4.4769,4.81375,4.3200625,6.90428571428571,4.8358125,5.52971428571429,6.26533333333333,4.1997,3.92591666666667,5.42766666666667,5.477,5.36385714285714,7.449125,4.37126666666667,5.2354,4.87733333333333,4.6875,7.06886666666667,7.21733333333333,6.2606,4.6755,5.87285714285714,5.97871428571429,5.331,5.82775,4.4156875,6.372,6.39125,5.20575,5.02011111111111,5.46753333333333,4.91678571428571,3.905,4.1051,5.527,5.8526875,7.07025,4.00154545454545,4.01976923076923,5.76376923076923,5.198,4.28328571428571,6.65385714285714,4.39828571428571,5.887,6.68033333333333,5.6230625,5.10228571428571,5.331,5.0733,4.69588888888889,4.36866666666667,4.59942857142857,4.73964285714286,7.46628571428571,7.30806666666667,5.64973333333333,4.30886666666667,4.99535714285714,5.536,4.92828571428571,7.50145454545455,5.22171428571429,4.4454,6.65013333333333,5.56578571428571,5.61066666666667,5.256875,5.97078571428571,5.47621428571429,5.60976923076923,5.518125,3.58775,6.48433333333333,4.4878,5.30471428571429,4.09184615384615,6.49761538461538,6.08446153846154,6.08271428571429,4.86446666666667,5.8644,6.4656,4.30964285714286,4.44575,7.3686,7.55036363636364,6.1375,4.86238461538462,3.6926875,6.0810625,3.6102,4.72008333333333,5.25386666666667,5.066,4.324875,4.7741875,6.8145,6.92293333333333,7.0435,6.2724375,5.991,6.11325,5.36936363636364,3.974125,4.5198,3.8365],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="logged-gdp-per-capita-1" class="section level4">
<h4>Logged GDP per capita</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_gdp, 
  text = happy$country_name, 
  colors = &#39;Purples&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Logged GDP per Capita&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-9293329729904499bf19" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-9293329729904499bf19">{"x":{"visdat":{"2b385ab77410":["function () ","plotlyVisDat"]},"cur_data":"2b385ab77410","attrs":{"2b385ab77410":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[7.65423076923077,9.39407142857143,9.3315,10.0293125,9.2848,10.7653571428571,10.8882142857143,9.52286666666667,10.695,8.1489375,9.76626666666667,10.8042857142857,7.99369230769231,8.906875,9.44214285714286,9.68669230769231,9.58935714285714,9.89007692307692,7.53835714285714,6.70783333333333,8.10185714285714,8.1065625,10.7577857142857,7.41646666666667,10.004875,9.673,9.4748125,7.99685714285714,8.1748,9.7512,10.1403571428571,10.5170769230769,10.4853333333333,10.8846666666667,9.57825,9.3035,9.26011111111111,8.974125,10.3528666666667,7.57333333333333,10.7517142857143,10.6804,9.6224,7.67325,9.3561875,10.8270714285714,8.3803125,10.3202857142857,8.96193333333333,7.7089,7.44925,8.55393333333333,11,10.2226428571429,10.854,8.5298,9.13893333333333,9.51444444444444,9.2065,11.0833333333333,10.5162666666667,10.6422,8.4333,9.17614285714286,10.5750714285714,9.28333333333333,10.0335625,8.20825,9.318,11.023,8.42075,8.68544444444444,10.1691333333333,9.72242857142857,7.9026,7.2944,9.6398,10.2893125,11.6104166666667,7.36763636363636,6.88961538461538,10.0273076923077,9.826,7.66142857142857,10.6152857142857,8.5145,9.94625,9.83906666666667,9.2099375,9.21214285714286,9.81607142857143,8.8663,7.024,8.42022222222222,9.164,7.90164285714286,10.8952142857143,10.587,8.5456,6.99286666666667,8.50185714285714,10.576,9.58557142857143,11.0403636363636,8.3475,8.3382,10.1311333333333,9.29564285714286,9.3024,8.835625,10.221,10.3731428571429,10.0758461538462,10.13625,7.49816666666667,10.7126666666667,7.97953333333333,9.66792857142857,7.36123076923077,11.3536153846154,10.2669230769231,10.4552142857143,9.434,10.5208666666667,10.5439333333333,9.24471428571429,9.03375,10.8281333333333,11.0973636363636,10.69525,7.82046153846154,7.7111875,9.658125,7.2515,9.24933333333333,10.0882666666667,9.629,7.5805,9.4105,11.08525,10.6914,10.9647857142857,9.8465625,8.6505,9.46008333333333,8.67727272727273,8.13725,8.07206666666667,7.856125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"Purples","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Logged GDP per Capita","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(252,251,253,1)"],["0.0416666666666667","rgba(248,246,250,1)"],["0.0833333333333334","rgba(243,242,248,1)"],["0.125","rgba(239,237,245,1)"],["0.166666666666667","rgba(232,231,242,1)"],["0.208333333333333","rgba(225,224,238,1)"],["0.25","rgba(218,218,235,1)"],["0.291666666666667","rgba(208,208,230,1)"],["0.333333333333333","rgba(198,199,225,1)"],["0.375","rgba(188,189,220,1)"],["0.416666666666667","rgba(178,177,213,1)"],["0.458333333333333","rgba(168,166,207,1)"],["0.5","rgba(158,154,200,1)"],["0.541666666666667","rgba(148,144,195,1)"],["0.583333333333333","rgba(138,135,191,1)"],["0.625","rgba(128,125,186,1)"],["0.666666666666667","rgba(121,110,178,1)"],["0.708333333333333","rgba(114,96,171,1)"],["0.75","rgba(106,81,163,1)"],["0.791666666666666","rgba(99,67,156,1)"],["0.833333333333333","rgba(92,54,150,1)"],["0.875","rgba(84,39,143,1)"],["0.916666666666667","rgba(77,28,137,1)"],["0.958333333333333","rgba(70,16,131,1)"],["1","rgba(63,0,125,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[7.65423076923077,9.39407142857143,9.3315,10.0293125,9.2848,10.7653571428571,10.8882142857143,9.52286666666667,10.695,8.1489375,9.76626666666667,10.8042857142857,7.99369230769231,8.906875,9.44214285714286,9.68669230769231,9.58935714285714,9.89007692307692,7.53835714285714,6.70783333333333,8.10185714285714,8.1065625,10.7577857142857,7.41646666666667,10.004875,9.673,9.4748125,7.99685714285714,8.1748,9.7512,10.1403571428571,10.5170769230769,10.4853333333333,10.8846666666667,9.57825,9.3035,9.26011111111111,8.974125,10.3528666666667,7.57333333333333,10.7517142857143,10.6804,9.6224,7.67325,9.3561875,10.8270714285714,8.3803125,10.3202857142857,8.96193333333333,7.7089,7.44925,8.55393333333333,11,10.2226428571429,10.854,8.5298,9.13893333333333,9.51444444444444,9.2065,11.0833333333333,10.5162666666667,10.6422,8.4333,9.17614285714286,10.5750714285714,9.28333333333333,10.0335625,8.20825,9.318,11.023,8.42075,8.68544444444444,10.1691333333333,9.72242857142857,7.9026,7.2944,9.6398,10.2893125,11.6104166666667,7.36763636363636,6.88961538461538,10.0273076923077,9.826,7.66142857142857,10.6152857142857,8.5145,9.94625,9.83906666666667,9.2099375,9.21214285714286,9.81607142857143,8.8663,7.024,8.42022222222222,9.164,7.90164285714286,10.8952142857143,10.587,8.5456,6.99286666666667,8.50185714285714,10.576,9.58557142857143,11.0403636363636,8.3475,8.3382,10.1311333333333,9.29564285714286,9.3024,8.835625,10.221,10.3731428571429,10.0758461538462,10.13625,7.49816666666667,10.7126666666667,7.97953333333333,9.66792857142857,7.36123076923077,11.3536153846154,10.2669230769231,10.4552142857143,9.434,10.5208666666667,10.5439333333333,9.24471428571429,9.03375,10.8281333333333,11.0973636363636,10.69525,7.82046153846154,7.7111875,9.658125,7.2515,9.24933333333333,10.0882666666667,9.629,7.5805,9.4105,11.08525,10.6914,10.9647857142857,9.8465625,8.6505,9.46008333333333,8.67727272727273,8.13725,8.07206666666667,7.856125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="social-support-1" class="section level4">
<h4>Social support</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_social_support, 
  text = happy$country_name, 
  colors = &#39;GnBu&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Social Support&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-c703a528e70560e8e6e6" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c703a528e70560e8e6e6">{"x":{"visdat":{"2b3813a01007":["function () ","plotlyVisDat"]},"cur_data":"2b3813a01007","attrs":{"2b3813a01007":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.504923076923077,0.714857142857143,0.81,0.904,0.723933333333333,0.945357142857143,0.929857142857143,0.774933333333333,0.88775,0.6124375,0.906933333333333,0.918071428571429,0.478076923076923,0.8065625,0.789285714285714,0.822923076923077,0.894642857142857,0.891,0.734428571428571,0.429833333333333,0.711642857142857,0.7143125,0.933,0.6638,0.8511875,0.811,0.884875,0.667142857142857,0.6419,0.904666666666667,0.825642857142857,0.801230769230769,0.917416666666667,0.955933333333333,0.872625,0.828875,0.731777777777778,0.7781875,0.9172,0.710666666666667,0.949357142857143,0.924266666666667,0.7618,0.6915,0.5850625,0.92,0.69175,0.809285714285714,0.825133333333333,0.6157,0.609833333333333,0.8106,0.836,0.904285714285714,0.977625,0.599933333333333,0.7948,0.644777777777778,0.7485,0.959133333333333,0.904266666666667,0.894466666666667,0.6626,0.881571428571429,0.899714285714286,0.835666666666667,0.9018125,0.7738125,0.821,0.89525,0.8705625,0.736,0.8786,0.773571428571429,0.7936,0.6873,0.8312,0.9236875,0.919416666666667,0.697,0.565461538461538,0.826307692307692,0.913,0.775142857142857,0.930285714285714,0.7835,0.868875,0.827,0.839625,0.926285714285714,0.821,0.621,0.752111111111111,0.757888888888889,0.812428571428571,0.7795,0.933142857142857,0.9526,0.853933333333333,0.6874,0.754571428571429,0.82,0.7925,0.950818181818182,0.570571428571429,0.7528,0.9032,0.905357142857143,0.8048,0.8164375,0.910428571428571,0.878142857142857,0.781538461538462,0.901,0.605583333333333,0.878333333333333,0.747866666666667,0.829928571428571,0.678461538461538,0.881615384615385,0.930461538461538,0.930142857142857,0.864,0.7934,0.937933333333333,0.828785714285714,0.78625,0.9268,0.943454545454545,0.86025,0.754,0.7599375,0.8898125,0.4673,0.69175,0.800066666666667,0.983,0.8083125,0.8750625,0.886,0.942333333333333,0.917357142857143,0.9036875,0.9339,0.914833333333333,0.827363636363636,0.707625,0.735733333333333,0.7963125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"GnBu","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Social Support","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(247,252,240,1)"],["0.0416666666666667","rgba(239,249,233,1)"],["0.0833333333333334","rgba(232,246,226,1)"],["0.125","rgba(224,243,219,1)"],["0.166666666666667","rgba(217,240,212,1)"],["0.208333333333333","rgba(211,238,204,1)"],["0.25","rgba(204,235,197,1)"],["0.291666666666667","rgba(192,230,192,1)"],["0.333333333333333","rgba(180,226,186,1)"],["0.375","rgba(168,221,181,1)"],["0.416666666666667","rgba(154,215,186,1)"],["0.458333333333333","rgba(139,210,191,1)"],["0.5","rgba(123,204,196,1)"],["0.541666666666667","rgba(110,196,201,1)"],["0.583333333333333","rgba(96,187,206,1)"],["0.625","rgba(78,179,211,1)"],["0.666666666666667","rgba(68,166,204,1)"],["0.708333333333333","rgba(56,153,197,1)"],["0.75","rgba(43,140,190,1)"],["0.791666666666667","rgba(35,128,184,1)"],["0.833333333333333","rgba(25,116,178,1)"],["0.875","rgba(8,104,172,1)"],["0.916666666666667","rgba(9,90,157,1)"],["0.958333333333333","rgba(9,77,143,1)"],["1","rgba(8,64,129,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.504923076923077,0.714857142857143,0.81,0.904,0.723933333333333,0.945357142857143,0.929857142857143,0.774933333333333,0.88775,0.6124375,0.906933333333333,0.918071428571429,0.478076923076923,0.8065625,0.789285714285714,0.822923076923077,0.894642857142857,0.891,0.734428571428571,0.429833333333333,0.711642857142857,0.7143125,0.933,0.6638,0.8511875,0.811,0.884875,0.667142857142857,0.6419,0.904666666666667,0.825642857142857,0.801230769230769,0.917416666666667,0.955933333333333,0.872625,0.828875,0.731777777777778,0.7781875,0.9172,0.710666666666667,0.949357142857143,0.924266666666667,0.7618,0.6915,0.5850625,0.92,0.69175,0.809285714285714,0.825133333333333,0.6157,0.609833333333333,0.8106,0.836,0.904285714285714,0.977625,0.599933333333333,0.7948,0.644777777777778,0.7485,0.959133333333333,0.904266666666667,0.894466666666667,0.6626,0.881571428571429,0.899714285714286,0.835666666666667,0.9018125,0.7738125,0.821,0.89525,0.8705625,0.736,0.8786,0.773571428571429,0.7936,0.6873,0.8312,0.9236875,0.919416666666667,0.697,0.565461538461538,0.826307692307692,0.913,0.775142857142857,0.930285714285714,0.7835,0.868875,0.827,0.839625,0.926285714285714,0.821,0.621,0.752111111111111,0.757888888888889,0.812428571428571,0.7795,0.933142857142857,0.9526,0.853933333333333,0.6874,0.754571428571429,0.82,0.7925,0.950818181818182,0.570571428571429,0.7528,0.9032,0.905357142857143,0.8048,0.8164375,0.910428571428571,0.878142857142857,0.781538461538462,0.901,0.605583333333333,0.878333333333333,0.747866666666667,0.829928571428571,0.678461538461538,0.881615384615385,0.930461538461538,0.930142857142857,0.864,0.7934,0.937933333333333,0.828785714285714,0.78625,0.9268,0.943454545454545,0.86025,0.754,0.7599375,0.8898125,0.4673,0.69175,0.800066666666667,0.983,0.8083125,0.8750625,0.886,0.942333333333333,0.917357142857143,0.9036875,0.9339,0.914833333333333,0.827363636363636,0.707625,0.735733333333333,0.7963125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="healthy-life-expectancy-1" class="section level4">
<h4>Healthy life expectancy</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_expectancy, 
  text = happy$country_name, 
  colors = &#39;PuBuGn&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Healthy Life Expectancy&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-d5cd7076fb44fbf5b999" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d5cd7076fb44fbf5b999">{"x":{"visdat":{"2b3842ff6a2c":["function () ","plotlyVisDat"]},"cur_data":"2b3842ff6a2c","attrs":{"2b3842ff6a2c":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[52.2840769230769,67.6499285714286,65.5308333333333,67.96875,65.8303333333333,72.8714285714286,72.1885714285714,64.0570666666667,67.07875,62.2125,63.9168666666667,71.3927857142857,53.0702307692308,62.0000625,67.1727142857143,55.3268461538462,65.4672142857143,66.2923076923077,51.2365,51.33,59.7,50.0134375,72.9471428571429,46.0852,69.375,69.593,66.6000625,55.9241428571429,56.5321,70.4533333333333,68.9613571428571,72.9536923076923,69.13725,71.376,64.600125,67.49375,60.6042222222222,64.918875,67.4266666666667,57.8555555555556,71.2385714285714,72.9693333333333,58.1962,55.04,64.78125,71.5242857142857,55.367875,71.9071428571429,63.1038666666667,52.3708,47.77,66.1066666666667,76.82,66.6,72.865,58.6475333333333,61.0757333333333,64.6688888888889,59.4319166666667,71.768,72.7055333333333,73.1013333333333,48.5594,66.6085714285714,74.4371428571429,65.1466666666667,62.0625,56.96275,63.813,64.975,62.4625625,57.132,65.52,65.8510714285714,47.408,53.6978,62.372,65.562875,72.2783333333333,57.7386363636364,53.416,66.0078461538462,70.6,49.6020714285714,72.1828571428571,55.5843571428571,66.087625,67.3958,62.9186875,61.2714285714286,67.7999285714286,65.3008,50.3695555555556,58.5335555555556,55.4627142857143,60.6309285714286,71.85,72.4933333333333,66.1304666666667,50.732,47.6858571428571,73.898,64.9987857142857,72.7272727272727,57.0435,62.1088,68.8568,64.8,66.89,61.15625,68.3001428571429,71.6114285714286,66.115,62.2939375,58.5466666666667,64.9543333333333,57.2334666666667,67.2,46.1700769230769,75.6163846153846,68.0077692307692,70.1428571428571,53.6389333333333,72.3253333333333,73.528,66.4713571428571,48.316,72.2106666666667,73.4309090909091,69.255,62.5831538461538,54.4124375,66.1438125,53.0454,66.2500833333333,65.4826,62.409,52.5688125,63.075125,66.48325,71.6813333333333,68.4657142857143,68.425,64.0995,65.8816666666667,67.0030909090909,54.61525,51.9806,50.6063125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"PuBuGn","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Healthy Life Expectancy","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(255,247,251,1)"],["0.0416666666666667","rgba(249,240,247,1)"],["0.0833333333333334","rgba(242,233,244,1)"],["0.125","rgba(236,226,240,1)"],["0.166666666666667","rgba(227,220,237,1)"],["0.208333333333333","rgba(217,215,233,1)"],["0.25","rgba(208,209,230,1)"],["0.291666666666667","rgba(194,202,226,1)"],["0.333333333333333","rgba(180,196,223,1)"],["0.375","rgba(166,189,219,1)"],["0.416666666666667","rgba(147,182,215,1)"],["0.458333333333333","rgba(126,176,211,1)"],["0.5","rgba(103,169,207,1)"],["0.541666666666667","rgba(89,161,202,1)"],["0.583333333333333","rgba(73,152,197,1)"],["0.625","rgba(54,144,192,1)"],["0.666666666666667","rgba(42,139,174,1)"],["0.708333333333333","rgba(28,134,156,1)"],["0.75","rgba(2,129,138,1)"],["0.791666666666666","rgba(5,122,121,1)"],["0.833333333333333","rgba(4,115,105,1)"],["0.875","rgba(1,108,89,1)"],["0.916666666666667","rgba(1,95,77,1)"],["0.958333333333333","rgba(1,82,65,1)"],["1","rgba(1,70,54,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[52.2840769230769,67.6499285714286,65.5308333333333,67.96875,65.8303333333333,72.8714285714286,72.1885714285714,64.0570666666667,67.07875,62.2125,63.9168666666667,71.3927857142857,53.0702307692308,62.0000625,67.1727142857143,55.3268461538462,65.4672142857143,66.2923076923077,51.2365,51.33,59.7,50.0134375,72.9471428571429,46.0852,69.375,69.593,66.6000625,55.9241428571429,56.5321,70.4533333333333,68.9613571428571,72.9536923076923,69.13725,71.376,64.600125,67.49375,60.6042222222222,64.918875,67.4266666666667,57.8555555555556,71.2385714285714,72.9693333333333,58.1962,55.04,64.78125,71.5242857142857,55.367875,71.9071428571429,63.1038666666667,52.3708,47.77,66.1066666666667,76.82,66.6,72.865,58.6475333333333,61.0757333333333,64.6688888888889,59.4319166666667,71.768,72.7055333333333,73.1013333333333,48.5594,66.6085714285714,74.4371428571429,65.1466666666667,62.0625,56.96275,63.813,64.975,62.4625625,57.132,65.52,65.8510714285714,47.408,53.6978,62.372,65.562875,72.2783333333333,57.7386363636364,53.416,66.0078461538462,70.6,49.6020714285714,72.1828571428571,55.5843571428571,66.087625,67.3958,62.9186875,61.2714285714286,67.7999285714286,65.3008,50.3695555555556,58.5335555555556,55.4627142857143,60.6309285714286,71.85,72.4933333333333,66.1304666666667,50.732,47.6858571428571,73.898,64.9987857142857,72.7272727272727,57.0435,62.1088,68.8568,64.8,66.89,61.15625,68.3001428571429,71.6114285714286,66.115,62.2939375,58.5466666666667,64.9543333333333,57.2334666666667,67.2,46.1700769230769,75.6163846153846,68.0077692307692,70.1428571428571,53.6389333333333,72.3253333333333,73.528,66.4713571428571,48.316,72.2106666666667,73.4309090909091,69.255,62.5831538461538,54.4124375,66.1438125,53.0454,66.2500833333333,65.4826,62.409,52.5688125,63.075125,66.48325,71.6813333333333,68.4657142857143,68.425,64.0995,65.8816666666667,67.0030909090909,54.61525,51.9806,50.6063125],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="freedom-to-make-life-chocies-1" class="section level4">
<h4>Freedom to make life chocies</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_freedom, 
  text = happy$country_name, 
  colors = &#39;PuRd&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Freedom to Make Life Choices&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-2e138f7ada433c7455be" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2e138f7ada433c7455be">{"x":{"visdat":{"2b383b001c8b":["function () ","plotlyVisDat"]},"cur_data":"2b383b001c8b","attrs":{"2b383b001c8b":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.507692307692308,0.671642857142857,0.500333333333333,0.7719375,0.581133333333333,0.920214285714286,0.906285714285714,0.6722,0.88825,0.75875,0.661133333333333,0.843428571428571,0.742538461538462,0.8296875,0.5125,0.821461538461538,0.786214285714286,0.674846153846154,0.655642857142857,0.48,0.937785714285714,0.734,0.924785714285714,0.5048,0.729125,0.904,0.815875,0.531,0.74,0.9122,0.648785714285714,0.746153846153846,0.80625,0.9434,0.8615,0.7785,0.583888888888889,0.7540625,0.7886,0.742222222222222,0.940357142857143,0.828066666666667,0.6835,0.72625,0.6635625,0.870928571428571,0.8030625,0.498214285714286,0.7986,0.7069,0.472583333333333,0.736933333333333,0.717,0.619571428571429,0.931,0.7994,0.775733333333333,0.702333333333333,0.530416666666667,0.8916,0.722133333333333,0.635266666666667,0.7541,0.825428571428571,0.802928571428571,0.724,0.8055625,0.724,0.869,0.7895,0.7914375,0.898777777777778,0.648,0.611785714285714,0.707,0.7297,0.761,0.625375,0.907666666666667,0.519272727272727,0.789769230769231,0.827076923076923,0.854,0.676,0.919142857142857,0.556571428571429,0.859125,0.782,0.6590625,0.695571428571429,0.588642857142857,0.7375,0.751666666666667,0.838111111111111,0.759714285714286,0.682285714285714,0.908285714285714,0.923533333333333,0.811933333333333,0.749933333333333,0.679785714285714,0.795,0.652571428571429,0.954909090909091,0.523928571428571,0.4696,0.817933333333333,0.776285714285714,0.7444,0.8960625,0.826714285714286,0.831428571428571,0.735153846153846,0.6721875,0.866416666666667,0.682666666666667,0.6834,0.586714285714286,0.706076923076923,0.856307692307692,0.678153846153846,0.916571428571429,0.751333333333333,0.636866666666667,0.7688,0.814928571428571,0.64025,0.928333333333333,0.924181818181818,0.68325,0.780692307692308,0.7215,0.8776875,0.6229,0.613,0.5426,0.877,0.7294375,0.5758125,0.88925,0.8472,0.836,0.866,0.9411,0.660333333333333,0.887363636363636,0.63325,0.758466666666667,0.5935],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"PuRd","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Freedom to Make Life Choices","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(247,244,249,1)"],["0.0416666666666667","rgba(242,238,246,1)"],["0.0833333333333334","rgba(236,231,242,1)"],["0.125","rgba(231,225,239,1)"],["0.166666666666667","rgba(225,212,232,1)"],["0.208333333333333","rgba(218,198,225,1)"],["0.25","rgba(212,185,218,1)"],["0.291666666666667","rgba(209,173,212,1)"],["0.333333333333333","rgba(205,160,205,1)"],["0.375","rgba(201,148,199,1)"],["0.416666666666667","rgba(209,134,191,1)"],["0.458333333333333","rgba(217,118,184,1)"],["0.5","rgba(223,101,176,1)"],["0.541666666666667","rgba(226,85,163,1)"],["0.583333333333333","rgba(229,66,150,1)"],["0.625","rgba(231,41,138,1)"],["0.666666666666667","rgba(223,34,120,1)"],["0.708333333333333","rgba(215,26,103,1)"],["0.75","rgba(206,18,86,1)"],["0.791666666666667","rgba(188,11,80,1)"],["0.833333333333333","rgba(170,5,73,1)"],["0.875","rgba(152,0,67,1)"],["0.916666666666667","rgba(135,0,55,1)"],["0.958333333333333","rgba(119,0,43,1)"],["1","rgba(103,0,31,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.507692307692308,0.671642857142857,0.500333333333333,0.7719375,0.581133333333333,0.920214285714286,0.906285714285714,0.6722,0.88825,0.75875,0.661133333333333,0.843428571428571,0.742538461538462,0.8296875,0.5125,0.821461538461538,0.786214285714286,0.674846153846154,0.655642857142857,0.48,0.937785714285714,0.734,0.924785714285714,0.5048,0.729125,0.904,0.815875,0.531,0.74,0.9122,0.648785714285714,0.746153846153846,0.80625,0.9434,0.8615,0.7785,0.583888888888889,0.7540625,0.7886,0.742222222222222,0.940357142857143,0.828066666666667,0.6835,0.72625,0.6635625,0.870928571428571,0.8030625,0.498214285714286,0.7986,0.7069,0.472583333333333,0.736933333333333,0.717,0.619571428571429,0.931,0.7994,0.775733333333333,0.702333333333333,0.530416666666667,0.8916,0.722133333333333,0.635266666666667,0.7541,0.825428571428571,0.802928571428571,0.724,0.8055625,0.724,0.869,0.7895,0.7914375,0.898777777777778,0.648,0.611785714285714,0.707,0.7297,0.761,0.625375,0.907666666666667,0.519272727272727,0.789769230769231,0.827076923076923,0.854,0.676,0.919142857142857,0.556571428571429,0.859125,0.782,0.6590625,0.695571428571429,0.588642857142857,0.7375,0.751666666666667,0.838111111111111,0.759714285714286,0.682285714285714,0.908285714285714,0.923533333333333,0.811933333333333,0.749933333333333,0.679785714285714,0.795,0.652571428571429,0.954909090909091,0.523928571428571,0.4696,0.817933333333333,0.776285714285714,0.7444,0.8960625,0.826714285714286,0.831428571428571,0.735153846153846,0.6721875,0.866416666666667,0.682666666666667,0.6834,0.586714285714286,0.706076923076923,0.856307692307692,0.678153846153846,0.916571428571429,0.751333333333333,0.636866666666667,0.7688,0.814928571428571,0.64025,0.928333333333333,0.924181818181818,0.68325,0.780692307692308,0.7215,0.8776875,0.6229,0.613,0.5426,0.877,0.7294375,0.5758125,0.88925,0.8472,0.836,0.866,0.9411,0.660333333333333,0.887363636363636,0.63325,0.758466666666667,0.5935],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="generosity-1" class="section level4">
<h4>Generosity</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_generosity, 
  text = happy$country_name, 
  colors = &quot;BuGn&quot;
  ) %&gt;% 
  layout(
    title = &quot;Global Generosity&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-ed6ac9c4a27b750dd213" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ed6ac9c4a27b750dd213">{"x":{"visdat":{"2b3860fa4322":["function () ","plotlyVisDat"]},"cur_data":"2b3860fa4322","attrs":{"2b3860fa4322":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.0568461538461538,-0.0789285714285714,-0.121333333333333,-0.16125,-0.197533333333333,0.266,0.124142857142857,-0.1732,0.0185,-0.0333125,-0.169666666666667,-0.0358571428571429,-0.0566923076923077,-0.0530625,0.0501428571428571,-0.197692307692308,-0.0770714285714286,-0.141307692307692,-0.0321428571428571,-0.0345,0.157428571428571,-0.0103125,0.203642857142857,0.0106,0.0819375,-0.146,-0.083875,-0.00285714285714286,-0.0922,-0.00926666666666667,-0.131857142857143,0.0513076923076923,-0.153,0.161533333333333,-0.061875,-0.1129375,-0.127111111111111,-0.118375,-0.167333333333333,0.0651111111111111,-0.00414285714285714,-0.101666666666667,-0.1976,0.34625,-0.24375,0.0798571428571429,0.0730625,-0.281571428571429,0.0634666666666667,0.0412,0.317166666666667,0.0762666666666667,0.067,-0.156214285714286,0.245875,0.0237333333333333,0.407,0.173666666666667,-0.05425,0.229266666666667,0.1164,-0.0164666666666667,-0.0538,-0.0705714285714286,-0.169214285714286,-0.118,-0.138875,0.157125,0.257,-0.091,0.0236875,0.259,-0.1312,0.003,-0.1186,0.0123,-0.0624,-0.240125,0.0378333333333333,-0.0377272727272727,0.0960769230769231,0.112153846153846,0.024,-0.0498571428571429,0.249714285714286,-0.0493571428571429,0.047,-0.126066666666667,-0.088125,0.115214285714286,-0.0987142857142857,-0.2239,0.0376666666666667,0.597888888888889,-0.152857142857143,0.146142857142857,0.269142857142857,0.248266666666667,0.0425333333333333,-0.0222666666666667,0.0629285714285714,0.012,-0.000357142857142856,0.132181818181818,0.108357142857143,-0.103,-0.0431333333333333,0.0552142857142857,-0.1066,-0.023375,-0.0878571428571429,-0.182642857142857,-0.155615384615385,-0.2214375,0.0164166666666667,-0.0936666666666667,-0.0579333333333333,-0.0751428571428572,0.0742307692307692,0.0567692307692308,-0.0834615384615385,-0.0270714285714286,-0.114133333333333,-0.0541333333333333,-0.0864,0.173,-0.15525,0.143933333333333,0.099,-0.028,-0.00261538461538461,0.1355625,0.3755625,-0.0245,-0.196833333333333,-0.158133333333333,0.273,0.0525,-0.115,0.02925,0.3062,0.180214285714286,-0.0868125,0.1348,-0.164583333333333,-0.015,-0.14025,0.0165333333333333,-0.08075],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"BuGn","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Generosity","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(247,252,253,1)"],["0.0416666666666667","rgba(241,250,252,1)"],["0.0833333333333333","rgba(235,247,250,1)"],["0.125","rgba(229,245,249,1)"],["0.166666666666667","rgba(221,242,243,1)"],["0.208333333333333","rgba(212,239,236,1)"],["0.25","rgba(204,236,230,1)"],["0.291666666666667","rgba(187,229,220,1)"],["0.333333333333333","rgba(170,223,211,1)"],["0.375","rgba(153,216,201,1)"],["0.416666666666667","rgba(137,209,189,1)"],["0.458333333333333","rgba(120,201,176,1)"],["0.5","rgba(102,194,164,1)"],["0.541666666666667","rgba(91,187,149,1)"],["0.583333333333333","rgba(78,181,133,1)"],["0.625","rgba(65,174,118,1)"],["0.666666666666667","rgba(56,162,101,1)"],["0.708333333333333","rgba(46,151,85,1)"],["0.75","rgba(35,139,69,1)"],["0.791666666666667","rgba(25,129,61,1)"],["0.833333333333333","rgba(14,119,52,1)"],["0.875","rgba(0,109,44,1)"],["0.916666666666667","rgba(0,95,38,1)"],["0.958333333333333","rgba(0,81,33,1)"],["1","rgba(0,68,27,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.0568461538461538,-0.0789285714285714,-0.121333333333333,-0.16125,-0.197533333333333,0.266,0.124142857142857,-0.1732,0.0185,-0.0333125,-0.169666666666667,-0.0358571428571429,-0.0566923076923077,-0.0530625,0.0501428571428571,-0.197692307692308,-0.0770714285714286,-0.141307692307692,-0.0321428571428571,-0.0345,0.157428571428571,-0.0103125,0.203642857142857,0.0106,0.0819375,-0.146,-0.083875,-0.00285714285714286,-0.0922,-0.00926666666666667,-0.131857142857143,0.0513076923076923,-0.153,0.161533333333333,-0.061875,-0.1129375,-0.127111111111111,-0.118375,-0.167333333333333,0.0651111111111111,-0.00414285714285714,-0.101666666666667,-0.1976,0.34625,-0.24375,0.0798571428571429,0.0730625,-0.281571428571429,0.0634666666666667,0.0412,0.317166666666667,0.0762666666666667,0.067,-0.156214285714286,0.245875,0.0237333333333333,0.407,0.173666666666667,-0.05425,0.229266666666667,0.1164,-0.0164666666666667,-0.0538,-0.0705714285714286,-0.169214285714286,-0.118,-0.138875,0.157125,0.257,-0.091,0.0236875,0.259,-0.1312,0.003,-0.1186,0.0123,-0.0624,-0.240125,0.0378333333333333,-0.0377272727272727,0.0960769230769231,0.112153846153846,0.024,-0.0498571428571429,0.249714285714286,-0.0493571428571429,0.047,-0.126066666666667,-0.088125,0.115214285714286,-0.0987142857142857,-0.2239,0.0376666666666667,0.597888888888889,-0.152857142857143,0.146142857142857,0.269142857142857,0.248266666666667,0.0425333333333333,-0.0222666666666667,0.0629285714285714,0.012,-0.000357142857142856,0.132181818181818,0.108357142857143,-0.103,-0.0431333333333333,0.0552142857142857,-0.1066,-0.023375,-0.0878571428571429,-0.182642857142857,-0.155615384615385,-0.2214375,0.0164166666666667,-0.0936666666666667,-0.0579333333333333,-0.0751428571428572,0.0742307692307692,0.0567692307692308,-0.0834615384615385,-0.0270714285714286,-0.114133333333333,-0.0541333333333333,-0.0864,0.173,-0.15525,0.143933333333333,0.099,-0.028,-0.00261538461538461,0.1355625,0.3755625,-0.0245,-0.196833333333333,-0.158133333333333,0.273,0.0525,-0.115,0.02925,0.3062,0.180214285714286,-0.0868125,0.1348,-0.164583333333333,-0.015,-0.14025,0.0165333333333333,-0.08075],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="perceptions-of-corruption-1" class="section level4">
<h4>Perceptions of corruption</h4>
<pre class="r"><code>plot_ly(
  happy, 
  type = &#39;choropleth&#39;, 
  locations = happy$code, 
  z = happy$mean_corruption, 
  text = happy$country_name, 
  colors = &#39;YlGnBu&#39;
  ) %&gt;% 
  layout(
    title = &quot;Global Perceptions of Corruption&quot;,
    geo = g
  )</code></pre>
<div id="htmlwidget-d4cff940c555f71de7cb" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-d4cff940c555f71de7cb">{"x":{"visdat":{"2b384e50b96":["function () ","plotlyVisDat"]},"cur_data":"2b384e50b96","attrs":{"2b384e50b96":{"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.849538461538462,0.871642857142857,0.713333333333333,0.8415625,0.832,0.419214285714286,0.563857142857143,0.685533333333333,0.6315,0.7389375,0.6682,0.622571428571429,0.774923076923077,0.8218125,0.943214285714286,0.783461538461538,0.730714285714286,0.941230769230769,0.761357142857143,0.7115,0.854857142857143,0.876875,0.412428571428571,0.866266666666667,0.7745,0.755,0.8473125,0.757,0.7811,0.795066666666667,0.928714285714286,0.845538461538462,0.9025,0.1966,0.748625,0.7745625,0.813888888888889,0.7405625,0.6568,0.728333333333333,0.2445,0.625733333333333,0.8284,0.70175,0.542125,0.548571428571429,0.860625,0.887,0.794266666666667,0.7672,0.7495,0.8346,0.403,0.903928571428571,0.69775,0.823066666666667,0.927133333333333,0.730111111111111,0.820583333333333,0.458933333333333,0.8274,0.902,0.7697,0.899857142857143,0.692714285714286,0.702666666666667,0.793625,0.861125,0.917,0.55625,0.903375,0.638222222222222,0.858,0.906428571428571,0.8276,0.852,0.6926,0.9125625,0.377916666666667,0.833363636363636,0.772692307692308,0.828230769230769,0.825,0.801857142857143,0.665285714285714,0.731428571428571,0.823875,0.738533333333333,0.93275,0.899571428571429,0.787142857142857,0.8095,0.729555555555556,0.647555555555556,0.834571428571429,0.841428571428571,0.398285714285714,0.2646,0.730333333333333,0.684,0.893285714285714,0.626,0.874428571428571,0.337454545454545,0.794428571428571,0.7934,0.854933333333333,0.834785714285714,0.882533333333333,0.779375,0.826642857142857,0.918714285714286,0.951769230769231,0.9025,0.175,0.545666666666667,0.821666666666667,0.894,0.856153846153846,0.0966153846153846,0.916076923076923,0.839571428571429,0.844066666666667,0.791066666666667,0.7986,0.821857142857143,0.76025,0.261,0.304636363636364,0.79325,0.701307692307692,0.7558125,0.9085625,0.8001,0.848666666666667,0.7612,0.888,0.84575,0.9320625,0.3715,0.4852,0.699285714285714,0.58325,0.5046,0.796416666666667,0.785727272727273,0.828875,0.828466666666667,0.84275],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"colors":"YlGnBu","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Global Perceptions of Corruption","geo":{"showframe":false,"projection":{"type":"Mercator"}},"scene":{"zaxis":{"title":[]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(255,255,217,1)"],["0.0416666666666667","rgba(249,253,204,1)"],["0.0833333333333333","rgba(243,250,190,1)"],["0.125","rgba(237,248,177,1)"],["0.166666666666667","rgba(225,243,178,1)"],["0.208333333333333","rgba(212,238,179,1)"],["0.25","rgba(199,233,180,1)"],["0.291666666666667","rgba(177,224,183,1)"],["0.333333333333333","rgba(153,214,185,1)"],["0.375","rgba(127,205,187,1)"],["0.416666666666667","rgba(110,197,190,1)"],["0.458333333333333","rgba(90,190,193,1)"],["0.5","rgba(65,182,196,1)"],["0.541666666666667","rgba(56,169,195,1)"],["0.583333333333333","rgba(45,157,193,1)"],["0.625","rgba(29,145,192,1)"],["0.666666666666667","rgba(34,128,184,1)"],["0.708333333333333","rgba(35,111,176,1)"],["0.75","rgba(34,94,168,1)"],["0.791666666666667","rgba(37,80,161,1)"],["0.833333333333333","rgba(38,66,155,1)"],["0.875","rgba(37,52,148,1)"],["0.916666666666667","rgba(27,44,127,1)"],["0.958333333333333","rgba(18,36,107,1)"],["1","rgba(8,29,88,1)"]],"showscale":true,"locations":["AFG","ALB","DZA","ARG","ARM","AUS","AUT","AZE","BHR","BGD","BLR","BEL","BEN","BOL","BIH","BWA","BRA","BGR","BFA","BDI","KHM","CMR","CAN","TCD","CHL","CHN","COL","COM","COG","CRI","HRV",null,"CZE","DNK","DOM","ECU","EGY","SLV","EST","ETH","FIN","FRA","GAB","GMB","GEO","DEU","GHA","GRC","GTM","GIN","HTI","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","ISR","ITA","CIV","JAM","JPN","JOR","KAZ","KEN","KSV","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LTU","LUX","MDG","MWI","MYS","MDV","MLI","MLT","MRT","MUS","MEX","MDA","MNG","MNE","MAR","MOZ","MMR","NAM","NPL","NLD","NZL","NIC","NER","NGA","CYP","MKD","NOR","PAK","PSE","PAN","PRY","PER","PHL","POL","PRT","ROU","RUS","RWA","SAU","SEN","SRB","SLE","SGP","SVK","SVN","ZAF","KOR","ESP","LKA","SWZ","SWE","CHE","TWN","TJK","TZA","THA","TGO","TUN","TUR","TKM","UGA","UKR","ARE","GBR","USA","URY","UZB","VEN","VNM","YEM","ZMB","ZWE"],"z":[0.849538461538462,0.871642857142857,0.713333333333333,0.8415625,0.832,0.419214285714286,0.563857142857143,0.685533333333333,0.6315,0.7389375,0.6682,0.622571428571429,0.774923076923077,0.8218125,0.943214285714286,0.783461538461538,0.730714285714286,0.941230769230769,0.761357142857143,0.7115,0.854857142857143,0.876875,0.412428571428571,0.866266666666667,0.7745,0.755,0.8473125,0.757,0.7811,0.795066666666667,0.928714285714286,0.845538461538462,0.9025,0.1966,0.748625,0.7745625,0.813888888888889,0.7405625,0.6568,0.728333333333333,0.2445,0.625733333333333,0.8284,0.70175,0.542125,0.548571428571429,0.860625,0.887,0.794266666666667,0.7672,0.7495,0.8346,0.403,0.903928571428571,0.69775,0.823066666666667,0.927133333333333,0.730111111111111,0.820583333333333,0.458933333333333,0.8274,0.902,0.7697,0.899857142857143,0.692714285714286,0.702666666666667,0.793625,0.861125,0.917,0.55625,0.903375,0.638222222222222,0.858,0.906428571428571,0.8276,0.852,0.6926,0.9125625,0.377916666666667,0.833363636363636,0.772692307692308,0.828230769230769,0.825,0.801857142857143,0.665285714285714,0.731428571428571,0.823875,0.738533333333333,0.93275,0.899571428571429,0.787142857142857,0.8095,0.729555555555556,0.647555555555556,0.834571428571429,0.841428571428571,0.398285714285714,0.2646,0.730333333333333,0.684,0.893285714285714,0.626,0.874428571428571,0.337454545454545,0.794428571428571,0.7934,0.854933333333333,0.834785714285714,0.882533333333333,0.779375,0.826642857142857,0.918714285714286,0.951769230769231,0.9025,0.175,0.545666666666667,0.821666666666667,0.894,0.856153846153846,0.0966153846153846,0.916076923076923,0.839571428571429,0.844066666666667,0.791066666666667,0.7986,0.821857142857143,0.76025,0.261,0.304636363636364,0.79325,0.701307692307692,0.7558125,0.9085625,0.8001,0.848666666666667,0.7612,0.888,0.84575,0.9320625,0.3715,0.4852,0.699285714285714,0.58325,0.5046,0.796416666666667,0.785727272727273,0.828875,0.828466666666667,0.84275],"text":["Afghanistan","Albania","Algeria","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahrain","Bangladesh","Belarus","Belgium","Benin","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo (Brazzaville)","Costa Rica","Croatia","Cyprus","Czech Republic","Denmark","Dominican Republic","Ecuador","Egypt","El Salvador","Estonia","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hong Kong S.A.R. of China","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Cyprus","North Macedonia","Norway","Pakistan","Palestinian Territories","Panama","Paraguay","Peru","Philippines","Poland","Portugal","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","Swaziland","Sweden","Switzerland","Taiwan Province of China","Tajikistan","Tanzania","Thailand","Togo","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
