<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Visualization</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Overview</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="visualization.html">Visulization</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="statistical_tests.html">Statistical Test</a>
    </li>
    <li>
      <a href="regression_analysis.html">Regression Analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown-header">About</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Visualization</h1>

</div>


<div id="life-ladder-scores-based-on-different-regions"
class="section level3">
<h3>Life Ladder Scores Based on Different Regions</h3>
<div id="overall-mean-life-ladder-score" class="section level4">
<h4>Overall mean life ladder score</h4>
<p>We want to first get a general sense about the differences among life
ladder scores for different regions by plotting the mean life ladder
score for each region throughout the years.</p>
<pre class="r"><code>happ_df %&gt;%
  group_by(regional_indicator) %&gt;%
  summarise(mean_ladder_score = mean(ladder_score)) %&gt;%
  mutate(regional_indicator = fct_reorder(regional_indicator, mean_ladder_score, .desc = TRUE)) %&gt;%
  ggplot(aes(x = regional_indicator, y = mean_ladder_score, fill = regional_indicator)) +
  geom_bar(stat = &quot;identity&quot;, show.legend = FALSE) +
  coord_flip() +
  labs(
    y = &quot;Mean life ladder score&quot;,
    x = &quot;Region&quot;,
    title = &quot;Mean Life Ladder Score for Different Regions&quot;
  )</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>From the years 2005 to 2021, North America and ANZ region has the
highest mean life ladder score. Western Europe region has the second
highest mean ladder score and is close to North America and ANZ’s.
Sub-Saharan Africa and South Asia have the two lowest mean life ladder
scores in which Sub-Saharan Africa has the lowest mean life ladder
score.</p>
</div>
<div id="across-years-2005-to-2021" class="section level4">
<h4>Across Years 2005 to 2021</h4>
<p>After getting an idea of the differences of mean life ladder score
among different regions, we want to explore the distribution of life
ladder score on each region across the years.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = ladder_score, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Life ladder score&quot;,
    title = &quot;Life Ladder Scores for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-4-1.png" width="1104" /></p>
<p>With the initial idea that the mean life ladder score of the North
America and ANZ region being the highest, we can see that each year the
life ladder score of the North America and ANZ region has similar
distribution around 7. For Sub-Saharan Africa, it also has similar
distribution in life ladder score around 4 across the years. It seems
that the Middle East and North Africa region has many outliers in each
year’s life ladder score.</p>
</div>
<div id="mean-life-ladder-score-for-top-50-countries"
class="section level4">
<h4>Mean life ladder score for top 50 countries</h4>
<p>Now we want to look at the countries that have top 50 mean life
ladder score and which regions they belong to.</p>
<pre class="r"><code>happ_df %&gt;%
  group_by(country_name, regional_indicator) %&gt;%
  summarise(mean = mean(ladder_score)) %&gt;%
  ungroup() %&gt;%
  top_n(50, mean) %&gt;%
  mutate(country_name = fct_reorder(country_name, mean)) %&gt;%
  ggplot(aes(x = country_name, y = mean, color = regional_indicator)) +
  geom_point(stat = &quot;identity&quot;) +
  theme(axis.text.x = element_text(angle = 60, vjust = 1, hjust = 1),
        legend.position = &quot;top&quot;) +
  labs(
    x = &quot;Country&quot;,
    y = &quot;Mean life ladder score&quot;,
    color = &quot;Region&quot;
  )</code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-5-1.png" width="1104" /></p>
<p>Interestingly, there are many countries from Western Europe and they
also have relatively high mean life ladder score across the years.</p>
</div>
</div>
<div id="other-variables-based-on-different-regions"
class="section level3 tabset">
<h3 class="tabset">Other variables Based on Different Regions</h3>
<div id="logged-gdp-per-capita" class="section level4">
<h4>Logged GDP per capita</h4>
<p>We can see that the distributions in North America and ANZ, and
Western Europe are similar in logged GDP per capita and they are the two
highest among these regions.</p>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = logged_gdp_per_capita, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Logged GDP per capita&quot;,
    title = &quot;Logged GDP per capita for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-6-1.png" width="1104" /></p>
</div>
<div id="social-support" class="section level4">
<h4>Social Support</h4>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = social_support, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Social support&quot;,
    title = &quot;Social Support for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-7-1.png" width="1104" /></p>
</div>
<div id="healthy-life-expectancy" class="section level4">
<h4>Healthy life expectancy</h4>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = healthy_life_expectancy, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Healthy life expectancy&quot;,
    title = &quot;Healthy Life Expectancy for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-8-1.png" width="1104" /></p>
</div>
<div id="freedom-to-make-life-chocies" class="section level4">
<h4>Freedom to make life chocies</h4>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = freedom_to_make_life_choices, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Freedom to make life choices&quot;,
    title = &quot;Freedom for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-9-1.png" width="1104" /></p>
</div>
<div id="generosity" class="section level4">
<h4>Generosity</h4>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = generosity, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Generosity&quot;,
    title = &quot;Generosity for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-10-1.png" width="1104" /></p>
</div>
<div id="perceptions-of-corruption" class="section level4">
<h4>Perceptions of corruption</h4>
<pre class="r"><code>happ_df %&gt;%
  filter(year != 2005) %&gt;%
  ggplot(aes(x = year, y = perceptions_of_corruption, group = year)) +
  geom_boxplot() +
  theme(
    axis.text.x = element_text(angle = 60, vjust = 0.5, hjust = 1, margin = margin(-10, 0, 0, 0)),
    axis.title.x = element_text(margin = margin(15, 0, 0, 0))
  ) +
  facet_wrap(~regional_indicator, nrow = 2) +
  labs(
    x = &quot;Year&quot;,
    y = &quot;Perceptions of corruption&quot;,
    title = &quot;Perceptions of Corruption for Different Regions Across Years&quot;
  ) </code></pre>
<p><img src="visualization_files/figure-html/unnamed-chunk-11-1.png" width="1104" /></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
