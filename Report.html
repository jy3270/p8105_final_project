<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Report</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Overview</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exploratory Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="descriptive_statistics.html">Descriptive statistics</a>
    </li>
    <li>
      <a href="a_visualization.html">Visualization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="statistical_tests.html">Statistical Test</a>
    </li>
    <li>
      <a href="regression_analysis.html">Regression Analysis</a>
    </li>
    <li>
      <a href="PCA_analysis.html">PCA Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://yixuanjiao.shinyapps.io/world-happiness-shinyapp/">Interactive Data Explore</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Report.html">Project Report</a>
</li>
<li>
  <a href="https://github.com/jy3270/world-happiness-analysis.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Report</h1>

</div>


<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>The World Happiness Report is a landmark survey of the state of
global happiness. In a generalized view, the progress of the nations
seems to somewhat affect the measurements of well-being, or the
happiness of the citizens. Therefore, the happiness indicator may serve
as a guide for the governments, organizations, and civil societies to
assess their policy-making decisions. The World Happiness Report reviews
the state of happiness in most of the countries across the years along
with other possible factors that would explain the variations in
happiness scores across countries and regions.</p>
<p>We are motivated to explore the possible relationship between the
variations in happiness and other possible factors such as geographical
region, GDP per capita, social support, freedom to make life choices,
healthy life expectancy, generosity, and perceptions of corruption.</p>
<p>How might these or some of these factors affect the state of
happiness in general? Based on different regions, are the differences in
each variable significant? What if taking the pandemic of Covid-19 into
account? We are interested to find out the answers to these questions
and draw conclusions on the importance of the factors that a nation
would focus on.</p>
</div>
<div id="background-and-related-work" class="section level2">
<h2>Background and related work</h2>
<p>We are inspired by the World Happiness Report 2021 and News article
World Happiness Report published to mark International Day of Happiness
about the importance of World Happiness on a social level by mentioning
people’s interactions during the pandemic. While diving into the
relationships between the possible variables and the Life Ladder Score,
we are aware of the influence of the pandemic on the World Happiness
report. We will use regression analysis and PCA/PCR analysis to find the
overall “best” model and address the association between the variables
and the Life Ladder Score. We will use statistical tests to address the
possible influence of the pandemic.</p>
</div>
<div id="research-questions" class="section level2">
<h2>Research questions</h2>
<ul>
<li><p>What is the ranking of the mean Life Ladder Score based on
different regions?</p></li>
<li><p>What are the trends of the distribution of each variable across
the years 2005 to 2021, based on different regions?</p></li>
<li><p>Are the mean Life Ladder Scores significantly different based on
regions?</p></li>
<li><p>Whether the mean Life Ladder Score of each region significantly
differs before and after the pandemic? If yes, whether the score before
is greater than the score after the pandemic?</p></li>
<li><p>Are the variables significantly different between “happy regions”
and “unhappy regions”?</p></li>
<li><p>Whether the distributions of the Life Ladder Score differ between
“happy regions” and “unhappy regions”?</p></li>
<li><p>What are the possible variables that could be used to predict the
Life Ladder Score in 2021?</p></li>
<li><p>How much does GDP associate with the Life Ladder Score?</p></li>
<li><p>Does any variable interact with GDP in the model and whether it
is significant?</p></li>
</ul>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p><a href="https://worldhappiness.report">World Happiness Report from
2005-2021</a></p>
<p>Variables of interest:</p>
<ul>
<li><code>country_name</code><br />
</li>
<li><code>regional_indicator</code>: region that the country belongs
to<br />
</li>
<li><code>ladder_score</code>: happiness index from 1 to 10 measured by
the national average response for Gallup World Poll (GWP)<br />
</li>
<li><code>logged_gdp_per_capita</code>: the country’s economic output
per person from World Development Indicators (WDI)<br />
</li>
<li><code>social_support</code>: the amount of assistance available from
other people measured by the national average response for GWP; ranges
from 0 to 1<br />
</li>
<li><code>healthy_life_expectancy</code>: healthy life expectancies at
birth based on data from the World Health Organization (WHO)<br />
</li>
<li><code>freedom_to_make_life_choices</code>: the amount of freedom to
choose what to do with one’s life measured by the national average
response for GWP, ranges from 0 to 1<br />
</li>
<li><code>generosity</code>: the willingness to make donation to
charities; measured by the national average response for GWP<br />
</li>
<li><code>perceptions_of_corruption</code>: the level of corruption in
the government and within business, measured by the national average
response for GWP; ranges from 0 to 1</li>
</ul>
</div>
<div id="methods" class="section level2">
<h2>Methods</h2>
<div id="data-processing-and-cleaning" class="section level3">
<h3>Data processing and cleaning</h3>
<ul>
<li><p>World Happiness Report pre 2021 <a
href="https://www.kaggle.com/datasets/ajaypalsinghlo/world-happiness-report-2021?resource=download&amp;select=world-happiness-report.csv">(dataset)</a><br />
The World Happiness Report pre 2021 contains 11 variables, describing
each country’s happiness score (Life Ladder Score) and its social,
economic, public health and other information that reflect the progress
of the nation.</p></li>
<li><p>World Happiness Report 2021 <a
href="https://www.kaggle.com/datasets/ajaypalsinghlo/world-happiness-report-2021?resource=download&amp;select=world-happiness-report-2021.csv">(dataset)</a><br />
The World Happiness Report 2021 contains 20 variables, describing each
country’s happiness score and information that reflect the progress of
the nation, along with some calculated statistics.</p></li>
<li><p>Combined World Happiness Report <a
href="https://github.com/jy3270/world-happiness-analysis.github.io/blob/main/Data/happiness.csv">(dataset)</a><br />
The 11 variables in World Happiness Report pre 2021 are reduced to 9 to
match the variables from the World Happiness Report 2021. The 20
variables in World Happiness Report 2021 are reduced to 10 with an
additional regional_indicator. We merged the two datasets by first
nesting the variables other than <code>country_names</code> in pre 2021
and variables other than <code>country_names</code> and
<code>regional_indicator</code> in 2021 and then using
<code>left_join()</code>. We combined the nested variables from two
datasets with <code>map2()</code> and <code>bind_rows()</code>. Finally,
unnested the variables and dropped na’s. The resulting dataset was
exported.</p></li>
</ul>
</div>
<div id="exploratory-analysis" class="section level3">
<h3>Exploratory analysis</h3>
<p>For our exploratory analysis, we wanted to first analyze the main
characteristics of each variable to examine the reliability of our later
tests and regression. We found out that out of the total 1816
observations, only 49 observations belong to East Asia, and only 1
observation is from 2005. Furthermore, there are six countries (China,
Hong Kong, Kosovo, Maldives, North Cyprus, Turkmenistan) that only have
one observation. Therefore, the statistical tests and regression results
might not apply for these countries/regions/years.</p>
<p>Looking at the distribution of each continuous variable, ladder
score, logged gdp per capita, generosity are all symmetrically
distributed, with mean at 5.47, 9.35, and -0.003 respectively. Social
support, healthy life expectancy, freedom to make life choices, and
perceptions of corruption are all skewed right, with median at 0.84,
65.3, 0.77, and 0.80 respectively. The skewness may suggest some
transformation, for instance log transformation. Summary tables are also
made to show the descriptive statistics of each variable. The first
table combined all the observations and calculated the mean and standard
deviation for each variable. The second table is separated by regional
indicator, and the third table is separated by year.</p>
<p>In order to discover trends and patterns in our dataset, we also
created several visualizations of the variables. To investigate life
ladder score, we first plotted a bar plot that represents the mean life
ladder score from 2005 to 2021 for different regions. From the plot, we
found that North America and ANZ has the highest mean life ladder score,
while Sub-Saharan Africa has the lowest. Additionally, we plotted box
plots to show the distribution of ladder score for each region from 2006
to 2021. Note that 2005 was excluded from the plot because it only has
one observation. The box plots show relatively stable distributions of
life ladder score for North American and ANZ and Western Europe across
years. Interestingly they are also the two regions with the highest mean
life ladder score. We also plotted the mean life ladder score for the
top 50 countries. These countries have mean life ladder scores ranging
from around 6 to 7.5. Western Europe has the highest proportion among
the top 50 countries.</p>
<p>Box plots were also made to show the distribution of all other
variables for different regions across years. North American and ANZ and
Western Europe are the two regions with highest logged GDP per capita,
social support, healthy life expectancy, and freedom to make life
choices, which suggest that these variables may have positive
correlation with life ladder score. North American and ANZ and Western
Europe are also the two regions with lowest perception of corruption,
suggesting that it might be inversely correlated with life ladder score.
Overall, logged GDP per capita and healthy life expectancy indicate
increasing trends across years for all regions.</p>
<p>Lastly, we made interactive maps to show the mean value of each
variable across years for each country, where a darker color indicates
higher value. For life ladder score, Canada, Australia, and Western
European countries have noticeably high values. This trend is found
similarly for logged GDP per capita, social support, healthy life
expectancy, and freedom to make life choices. The opposite trend is
found for perceptions of corruption (i.e. Canada, Australia, and Western
European countries have noticeably low value for perceptions of
corruption). These findings align with the findings from box plots and
suggest that these variables might be strongly correlated with life
ladder score.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
